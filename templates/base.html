{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <title>{{ title }}</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <link rel="shortcut icon" href="{{ dashboard.get_image }}"/>
    
    <link rel="stylesheet" href="{% static 'lib/bootstrap-4.6.0/css/bootstrap.min.css' %}"/>
    <link rel="stylesheet" href="{% static 'lib/fontawesome-6.1.1/css/all.min.css' %}"/>
    <link rel="stylesheet" href="{% static 'lib/jquery-ui-1.12.1/jquery-ui.css' %}"/>
    
    <script src="{% static 'lib/bootstrap-4.6.0/js/jquery.min.js' %}"></script>
    <script src="{% static 'lib/jquery-ui-1.12.1/jquery-ui.min.js' %}"></script>
    <script src="{% static 'lib/bootstrap-4.6.0/js/popper.min.js' %}"></script>
    <script src="{% static 'lib/bootstrap-4.6.0/js/bootstrap.min.js' %}"></script>
    <script src="{% static 'lib/adminlte-3.2.0/js/adminlte.min.js' %}"></script>
    
    <link rel="stylesheet" href="{% static 'lib/adminlte-3.2.0/css/adminlte.css' %}"/>
    <link rel="stylesheet" href="{% static 'css/style.css' %}"/>
    
    <style>
        /* FIX DEFINITIVO PARA EL FONDO AZUL */
        /* Impedimos que la imagen de fondo se repita o tape el contenido del dashboard */
        body.sidebar-mini.layout-fixed {
            background-image: none !important; 
            background-color: #f4f6f9 !important; /* Color gris claro estándar de AdminLTE */
        }

        /* Solo permitimos el fondo en la pantalla de Login si es necesario */
        body.login-page {
            background-size: cover !important;
        }

        /* AJUSTES PARA MÓVIL (PANTALLA PEQUEÑA) */
        @media (max-width: 991px) {
            .main-header {
                margin-left: 0 !important;
                display: flex !important;
                width: 100% !important;
            }

            /* Ocultamos los textos "Usuario:" y "Perfil:" para que no se corte el header */
            .main-header .nav-link p, 
            .main-header .nav-link span:not(.badge),
            .navbar-nav label {
                display: none !important;
            }

            /* Forzamos a los elementos del header a estar en una sola línea */
            .navbar-nav {
                flex-direction: row !important;
                align-items: center;
            }

            .nav-item {
                padding: 0 4px;
            }

            /* Aseguramos que el contenido empiece debajo del header y no detrás */
            .content-wrapper {
                margin-left: 0 !important;
                padding-top: 5px !important;
            }
        }

        /* AJUSTE PARA COMPUTADORA (PANTALLA GRANDE) */
        @media (min-width: 992px) {
            .main-header, .content-wrapper {
                margin-left: 250px !important; /* Espacio exacto para el sidebar */
            }
        }
    </style>

    <script src="{% static 'lib/bootstrap-daterangepicker-3.1/js/moment.min.js' %}"></script>
    <script src="{% static 'lib/bootstrap-daterangepicker-3.1/js/moment-with-locales.js' %}"></script>
    <script src="{% static 'lib/jquery-confirm-3.3.4/js/jquery-confirm.min.js' %}"></script>
    <link rel="stylesheet" href="{% static 'lib/jquery-confirm-3.3.4/css/jquery-confirm.min.css' %}"/>
    <script src="{% static 'lib/sweetalert2-11.0.16/js/sweetalert2.all.min.js' %}"></script>
    <link rel="stylesheet" href="{% static 'lib/sweetalert2-11.0.16/css/sweetalert2.min.css' %}"/>
    <script src="{% static 'lib/jquery-loading-overlay-2.1.7/js/loadingoverlay.min.js' %}"></script>
    <script src="{% static 'js/functions.js' %}"></script>
    
    {% block head %}{% endblock %}
</head>

<body class="hold-transition sidebar-mini layout-fixed">
    <div class="wrapper">
        {% block body %}
        {% endblock %}
    </div>
    <script src="{% static 'js/main.js' %}"></script>
</body>
</html>